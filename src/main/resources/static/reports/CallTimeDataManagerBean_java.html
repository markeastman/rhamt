<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Source Report for CallTimeDataManagerBean.java</title>
    <link href="resources/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="resources/css/windup.css" rel="stylesheet" media="screen"/>
    <link rel="stylesheet" type="text/css" href="resources/libraries/snippet/jquery.snippet.min.css" />
    <link rel="stylesheet" type="text/css" href="resources/css/windup-source.css" />
    <link rel="stylesheet" type="text/css" href="resources/libraries/sausage/sausage.css" />
    <link rel="shortcut icon" href="resources/img/rhamt-icon-128.png" type="image/x-icon"/>
</head>
<body role="document" class="source-report">

    <div class="navbar navbar-default navbar-fixed-top" id="main-navbar" style="display: none">
        <div class="wu-navbar-header navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <span class="wu-navbar-header">
              <strong class="wu-navbar-header">Red Hat Application Migration Toolkit</strong>
            </span>        </div>


                <div class="navbar-collapse collapse navbar-responsive-collapse project-specific" data-project-id="4062208">
    <ul class="nav navbar-nav">
            <li class="">
                <a href="../index.html"><i class="glyphicon glyphicon-home"></i> All Applications</a>
            </li>



                <li class="">
                    <a href="report_index_RHQ_Enterprise_Server_EAR.html">
                        <i class="glyphicon glyphicon-dashboard"></i>
                      Dashboard
                    </a>
                </li>


                <li class="">
                    <a href="migration_issues.1.html">
                        <i class="glyphicon glyphicon-warning-sign"></i>
                      Issues
                    </a>
                </li>


                <li class="">
                    <a href="ApplicationDetails_RHQ_Enterprise_Server_EAR.html">
                        <i class="glyphicon glyphicon-th-list"></i>
                      Application Details
                    </a>
                </li>


                <li class="">
                    <a href="dependency_report_RHQ_Enterprise_Server_EAR.html">
                        <i class="glyphicon glyphicon-compressed"></i>
                      Dependencies
                    </a>
                </li>


                <li class="">
                    <a href="remotereport_RHQ_Enterprise_Server_EAR.html">
                        <i class="glyphicon service-nav-logo"></i>
                      Remote Services
                    </a>
                </li>


                <li class="">
                    <a href="ejbreport_RHQ_Enterprise_Server_EAR.html">
                        <i class="glyphicon ejb-nav-logo"></i>
                      EJBs
                    </a>
                </li>


                <li class="">
                    <a href="jpa_RHQ_Enterprise_Server_EAR.html">
                        <i class="glyphicon jpa-nav-logo"></i>
                      JPA
                    </a>
                </li>


                <li class="">
                    <a href="server_resources_RHQ_Enterprise_Server_EAR.html">
                        <i class="glyphicon server-resource-nav-logo"></i>
                      Server Resources
                    </a>
                </li>


                <li class="">
                    <a href="hardcoded_ipsRHQ_Enterprise_Server_EAR.html">
                        <i class="glyphicon glyphicon-map-marker"></i>
                      Hard-coded IP Addresses
                    </a>
                </li>


                <li class="">
                    <a href="ignoredfiles_RHQ_Enterprise_Server_EAR.html">
                        <i class="glyphicon glyphicon-eye-close"></i>
                      Ignored Files
                    </a>
                </li>


                <li class="">
                    <a href="about_RHQ_Enterprise_Server_EAR.html">
                        <i class="glyphicon glyphicon-info-sign"></i>
                      About
                    </a>
                </li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
<li>
    <a href="#" class="feedback-nav-btn jiraFeedbackTrigger"><i class="glyphicon glyphicon-comment"></i> Send Feedback </a>
</li>


    <script type="text/javascript" src="https://issues.jboss.org/s/f215932e68571747ac58d0f5d554396f-T/en_US-r7luaf/6346/82/1.4.16/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-US&amp;collectorId=8b9e338b"></script>

    <script type="text/javascript">

    var FEEDBACK_JS_ADDED = false;
    var FEEDBACK_FORM_TRIGGER = null;

    function displayFeedbackForm() {
        FEEDBACK_FORM_TRIGGER();
    }

    window.ATL_JQ_PAGE_PROPS = {
        "triggerFunction": function(showCollectorDialog) {
            FEEDBACK_FORM_TRIGGER = showCollectorDialog;
        }
    };

    document.addEventListener("DOMContentLoaded", function(event) {
            jQuery(".jiraFeedbackTrigger").click(function(e) {
                e.preventDefault();
                displayFeedbackForm();
            });
    });
    </script>
    </ul>
                </div><!-- /.nav-collapse -->
    </div>


    <div class="container-fluid" role="main">
        <div class="row">
            <div class="page-header page-header-no-border">
                <h1>
                    <div class="main">Source Report</div>

                        <div class="path project-specific" data-project-id="4062208">
                            rhq-enterprise-server-ear-1.3.0.EmbJopr.1.3.0-4.ear/rhq-enterprise-server-ejb3.jar/org/rhq/enterprise/server/measurement/CallTimeDataManagerBean.java
                        </div>
                </h1>
                <div class="desc">
                    This report displays what Red Hat Application Migration Toolkit found in individual files.
                    Each item is shown below the line it was found on,
                    and next to it, you may find a link to the rule which it was found by.
                </div>
            </div>
        </div>

        <div class="row">
            <div class="container-fluid theme-showcase" role="main">

                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h3 class="panel-title">Information</h3>
                    </div>
                    <div class="panel-body" style="overflow: auto;">

                        <!--<div style="height: 120pt; float:left;"></div> Keeps the minimal height. -->
                        <div class="points" style="text-align: center; color: #00254b; padding-bottom: 1ex;">
                            <div class="number">0</div>
                            <div>Story Points</div>
                        </div>

                        <div class="info" style="margin-left: 95pt;">

                            <h4>Technologies</h4>
                            <div class="technologies" style="overflow: auto"><!-- "auto" to contain all the tags. -->
                                    <span class="label label-info" title="INFORMATIONAL">Decompiled Java File</span>
                            </div>



                            <div style="clear: both;"/><!-- Snaps under the height keeper. Yes, the same effect could be achieved by a table. -->
                        </div><!-- .info -->
                    </div>
                </div>



                <pre id="source">
package org.rhq.enterprise.server.measurement;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.Date;
import java.util.Iterator;
import java.util.List;
import java.util.Set;
import javax.annotation.Resource;
import javax.ejb.EJB;
import javax.ejb.SessionContext;
import javax.ejb.Stateless;
import javax.ejb.TransactionAttribute;
import javax.ejb.TransactionAttributeType;
import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;
import javax.persistence.Query;
import javax.sql.DataSource;
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import org.jboss.annotation.ejb.TransactionTimeout;
import org.jetbrains.annotations.NotNull;
import org.rhq.core.db.DatabaseType;
import org.rhq.core.db.DatabaseTypeFactory;
import org.rhq.core.db.H2DatabaseType;
import org.rhq.core.db.OracleDatabaseType;
import org.rhq.core.db.PostgresqlDatabaseType;
import org.rhq.core.db.SQLServerDatabaseType;
import org.rhq.core.domain.auth.Subject;
import org.rhq.core.domain.measurement.MeasurementSchedule;
import org.rhq.core.domain.measurement.calltime.CallTimeData;
import org.rhq.core.domain.measurement.calltime.CallTimeDataValue;
import org.rhq.core.domain.util.PageControl;
import org.rhq.core.domain.util.PageList;
import org.rhq.core.domain.util.PageOrdering;
import org.rhq.core.domain.util.PersistenceUtility;
import org.rhq.core.util.jdbc.JDBCUtil;
import org.rhq.enterprise.server.authz.AuthorizationManagerLocal;
import org.rhq.enterprise.server.authz.PermissionException;
import org.rhq.enterprise.server.measurement.CallTimeDataManagerLocal;
import org.rhq.enterprise.server.measurement.CallTimeDataManagerRemote;
import org.rhq.enterprise.server.measurement.MeasurementStorageException;
import org.rhq.enterprise.server.measurement.instrumentation.MeasurementMonitor;

@Stateless
@Resource(
   name = &quot;RHQ_DS&quot;,
   mappedName = &quot;java:/RHQDS&quot;
)
public class CallTimeDataManagerBean implements CallTimeDataManagerLocal, CallTimeDataManagerRemote {
   private static final String DATA_VALUE_TABLE_NAME = &quot;RHQ_CALLTIME_DATA_VALUE&quot;;
   private static final String DATA_KEY_TABLE_NAME = &quot;RHQ_CALLTIME_DATA_KEY&quot;;
   private static final String CALLTIME_KEY_INSERT_STATEMENT = &quot;INSERT INTO RHQ_CALLTIME_DATA_KEY(id, schedule_id, call_destination) SELECT %s, ?, ? FROM RHQ_numbers WHERE i = 42 AND NOT EXISTS (SELECT * FROM RHQ_CALLTIME_DATA_KEY WHERE schedule_id = ? AND call_destination = ?)&quot;;
   private static final String CALLTIME_KEY_INSERT_STATEMENT_AUTOINC = &quot;INSERT INTO RHQ_CALLTIME_DATA_KEY(schedule_id, call_destination) SELECT ?, ? FROM RHQ_numbers WHERE i = 42 AND NOT EXISTS (SELECT * FROM RHQ_CALLTIME_DATA_KEY WHERE schedule_id = ? AND call_destination = ?)&quot;;
   private static final String CALLTIME_VALUE_DELETE_SUPERCEDED_STATEMENT = &quot;DELETE FROM RHQ_CALLTIME_DATA_VALUE WHERE key_id = (SELECT id FROM RHQ_CALLTIME_DATA_KEY WHERE schedule_id = ? AND call_destination = ?) AND begin_time = ?&quot;;
   private static final String CALLTIME_VALUE_INSERT_STATEMENT = &quot;INSERT INTO RHQ_CALLTIME_DATA_VALUE(id, key_id, begin_time, end_time, minimum, maximum, total, count) SELECT %s, key.id, ?, ?, ?, ?, ?, ? FROM RHQ_numbers num, RHQ_calltime_data_key key WHERE num.i = 42 AND key.id = (SELECT id FROM RHQ_CALLTIME_DATA_KEY WHERE schedule_id = ? AND call_destination = ?)&quot;;
   private static final String CALLTIME_VALUE_INSERT_STATEMENT_AUTOINC = &quot;INSERT INTO RHQ_CALLTIME_DATA_VALUE(key_id, begin_time, end_time, minimum, maximum, total, count) SELECT key.id, ?, ?, ?, ?, ?, ? FROM RHQ_numbers num, RHQ_calltime_data_key key WHERE num.i = 42 AND key.id = (SELECT id FROM RHQ_CALLTIME_DATA_KEY WHERE schedule_id = ? AND call_destination = ?)&quot;;
   private static final String CALLTIME_VALUE_PURGE_STATEMENT = &quot;DELETE FROM RHQ_CALLTIME_DATA_VALUE WHERE end_time &lt; ?&quot;;
   private final Log log = LogFactory.getLog(CallTimeDataManagerBean.class);
   @PersistenceContext(
      unitName = &quot;rhqpu&quot;
   )
   private EntityManager entityManager;
   @Resource
   private SessionContext sessionContext;
   @EJB
   private AuthorizationManagerLocal authorizationManager;

   @TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)
   public void addCallTimeData(@NotNull Set callTimeDataSet) {
      if(!callTimeDataSet.isEmpty()) {
         this.log.debug(&quot;Persisting call-time data for &quot; + callTimeDataSet.size() + &quot; schedules...&quot;);
         DataSource ds = (DataSource)this.sessionContext.lookup(&quot;RHQ_DS&quot;);
         Connection conn = null;

         try {
            conn = ds.getConnection();
            this.insertCallTimeDataKeys(callTimeDataSet, conn);
            this.deleteRedundantCallTimeDataValues(callTimeDataSet, conn);
            this.insertCallTimeDataValues(callTimeDataSet, conn);
         } catch (SQLException var9) {
            this.logSQLException(var9);
         } catch (Throwable var10) {
            this.log.error(&quot;Failed to persist call-time data.&quot;, var10);
         } finally {
            JDBCUtil.safeClose(conn);
         }

      }
   }

   public PageList findCallTimeDataForResource(Subject subject, int scheduleId, long beginTime, long endTime, PageControl pageControl) {
      pageControl.initDefaultOrderingField(&quot;SUM(value.total)/SUM(value.count)&quot;, PageOrdering.DESC);
      pageControl.addDefaultOrderingField(&quot;key.callDestination&quot;, PageOrdering.ASC);
      MeasurementSchedule schedule = (MeasurementSchedule)this.entityManager.find(MeasurementSchedule.class, Integer.valueOf(scheduleId));
      int resourceId = schedule.getResource().getId();
      if(!this.authorizationManager.canViewResource(subject, resourceId)) {
         throw new PermissionException(&quot;User [&quot; + subject + &quot;] does not have permission to view call time data for measurementSchedule[id=&quot; + scheduleId + &quot;] and resource[id=&quot; + resourceId + &quot;]&quot;);
      } else {
         String query = &quot;CallTimeDataValue.findCompositesForResource&quot;;
         Query queryWithOrderBy = PersistenceUtility.createQueryWithOrderBy(this.entityManager, query, pageControl);
         Query queryCount = PersistenceUtility.createCountQuery(this.entityManager, query);
         queryWithOrderBy.setParameter(&quot;scheduleId&quot;, Integer.valueOf(scheduleId));
         queryWithOrderBy.setParameter(&quot;beginTime&quot;, Long.valueOf(beginTime));
         queryWithOrderBy.setParameter(&quot;endTime&quot;, Long.valueOf(endTime));
         List results = queryWithOrderBy.getResultList();
         queryCount.setParameter(&quot;scheduleId&quot;, Integer.valueOf(scheduleId));
         queryCount.setParameter(&quot;beginTime&quot;, Long.valueOf(beginTime));
         queryCount.setParameter(&quot;endTime&quot;, Long.valueOf(endTime));
         long count = (long)queryCount.getResultList().size();
         return new PageList(results, (int)count, pageControl);
      }
   }

   public PageList findCallTimeDataForCompatibleGroup(Subject subject, int groupId, int measurementDefinitionId, long beginTime, long endTime, PageControl pageControl) {
      return null;
   }

   public PageList findCallTimeDataForAutoGroup(Subject subject, int parentResourceId, int childResourceTypeId, int measurementDefinitionId, long beginTime, long endTime, PageControl pageControl) {
      return null;
   }

   @TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)
   @TransactionTimeout(21600)
   public int purgeCallTimeData(Date deleteUpToTime) throws SQLException {
      Connection conn = null;
      PreparedStatement stmt = null;

      int var7;
      try {
         conn = ((DataSource)this.sessionContext.lookup(&quot;java:/RHQDS&quot;)).getConnection();
         stmt = conn.prepareStatement(&quot;DELETE FROM RHQ_CALLTIME_DATA_VALUE WHERE end_time &lt; ?&quot;);
         stmt.setLong(1, deleteUpToTime.getTime());
         long startTime = System.currentTimeMillis();
         int deletedRowCount = stmt.executeUpdate();
         MeasurementMonitor.getMBean().incrementPurgeTime(System.currentTimeMillis() - startTime);
         MeasurementMonitor.getMBean().setPurgedCallTimeData((long)deletedRowCount);
         var7 = deletedRowCount;
      } finally {
         JDBCUtil.safeClose(conn, stmt, (ResultSet)null);
      }

      return var7;
   }

   private void insertCallTimeDataKeys(Set callTimeDataSet, Connection conn) throws Exception {
      PreparedStatement ps = null;

      int[] results;
      try {
         DatabaseType insertedRowCount = DatabaseTypeFactory.getDatabaseType(conn);
         String insertKeySql;
         if(!(insertedRowCount instanceof PostgresqlDatabaseType) &amp;&amp; !(insertedRowCount instanceof OracleDatabaseType) &amp;&amp; !(insertedRowCount instanceof H2DatabaseType)) {
            if(!(insertedRowCount instanceof SQLServerDatabaseType)) {
               throw new IllegalArgumentException(&quot;Unknown database type, can\'t continue: &quot; + insertedRowCount);
            }

            insertKeySql = &quot;INSERT INTO RHQ_CALLTIME_DATA_KEY(schedule_id, call_destination) SELECT ?, ? FROM RHQ_numbers WHERE i = 42 AND NOT EXISTS (SELECT * FROM RHQ_CALLTIME_DATA_KEY WHERE schedule_id = ? AND call_destination = ?)&quot;;
         } else {
            String i = JDBCUtil.getNextValSql(conn, &quot;RHQ_calltime_data_key&quot;);
            insertKeySql = String.format(&quot;INSERT INTO RHQ_CALLTIME_DATA_KEY(id, schedule_id, call_destination) SELECT %s, ?, ? FROM RHQ_numbers WHERE i = 42 AND NOT EXISTS (SELECT * FROM RHQ_CALLTIME_DATA_KEY WHERE schedule_id = ? AND call_destination = ?)&quot;, new Object[]{i});
         }

         ps = conn.prepareStatement(insertKeySql);
         Iterator var16 = callTimeDataSet.iterator();

         label120:
         while(true) {
            if(var16.hasNext()) {
               CallTimeData callTimeData = (CallTimeData)var16.next();
               ps.setInt(1, callTimeData.getScheduleId());
               ps.setInt(3, callTimeData.getScheduleId());
               Set callDestinations = callTimeData.getValues().keySet();
               Iterator i$ = callDestinations.iterator();

               while(true) {
                  if(!i$.hasNext()) {
                     continue label120;
                  }

                  String callDestination = (String)i$.next();
                  ps.setString(2, callDestination);
                  ps.setString(4, callDestination);
                  ps.addBatch();
               }
            }

            results = ps.executeBatch();
            break;
         }
      } finally {
         JDBCUtil.safeClose(ps);
      }

      int var15 = 0;

      for(int var17 = 0; var17 &lt; results.length; ++var17) {
         if((results[var17] &lt; 0 || results[var17] &gt; 1) &amp;&amp; results[var17] != -2) {
            throw new MeasurementStorageException(&quot;Failed to insert call-time data key rows - result [&quot; + results[var17] + &quot;] for batch command [&quot; + var17 + &quot;] is less than 0 or greater than 1.&quot;);
         }

         var15 += results[var17];
      }

      this.log.debug(&quot;Inserted new call-time data key rows for &quot; + (var15 &gt;= 0?Integer.valueOf(var15):&quot;?&quot;) + &quot; out of &quot; + results.length + &quot; reported key-value pairs.&quot;);
   }

   private void deleteRedundantCallTimeDataValues(Set callTimeDataSet, Connection conn) throws SQLException {
      PreparedStatement ps = null;

      int[] results;
      try {
         ps = conn.prepareStatement(&quot;DELETE FROM RHQ_CALLTIME_DATA_VALUE WHERE key_id = (SELECT id FROM RHQ_CALLTIME_DATA_KEY WHERE schedule_id = ? AND call_destination = ?) AND begin_time = ?&quot;);
         Iterator deletedRowCount = callTimeDataSet.iterator();

         label87:
         while(true) {
            if(deletedRowCount.hasNext()) {
               CallTimeData var15 = (CallTimeData)deletedRowCount.next();
               ps.setInt(1, var15.getScheduleId());
               Set callDestinations = var15.getValues().keySet();
               Iterator i$ = callDestinations.iterator();

               while(true) {
                  if(!i$.hasNext()) {
                     continue label87;
                  }

                  String callDestination = (String)i$.next();
                  ps.setString(2, callDestination);
                  CallTimeDataValue value = (CallTimeDataValue)var15.getValues().get(callDestination);
                  ps.setLong(3, value.getBeginTime());
                  ps.addBatch();
               }
            }

            results = ps.executeBatch();
            break;
         }
      } finally {
         JDBCUtil.safeClose(ps);
      }

      int var14 = 0;

      for(int i = 0; i &lt; results.length; ++i) {
         if(results[i] &lt; 0 &amp;&amp; results[i] != -2) {
            throw new MeasurementStorageException(&quot;Failed to delete redundant call-time data rows - result [&quot; + results[i] + &quot;] for batch command [&quot; + i + &quot;] is less than 0.&quot;);
         }

         var14 += results[i];
      }

      this.log.debug(&quot;Deleted &quot; + (var14 &gt;= 0?Integer.valueOf(var14):&quot;?&quot;) + &quot; redundant call-time data value rows that were superceded by data in the measurement report currently being processed.&quot;);
   }

   private void insertCallTimeDataValues(Set callTimeDataSet, Connection conn) throws Exception {
      PreparedStatement ps = null;

      int[] results;
      try {
         DatabaseType insertedRowCount = DatabaseTypeFactory.getDatabaseType(conn);
         String insertValueSql;
         if(!(insertedRowCount instanceof PostgresqlDatabaseType) &amp;&amp; !(insertedRowCount instanceof OracleDatabaseType) &amp;&amp; !(insertedRowCount instanceof H2DatabaseType)) {
            if(!(insertedRowCount instanceof SQLServerDatabaseType)) {
               throw new IllegalArgumentException(&quot;Unknown database type, can\'t continue: &quot; + insertedRowCount);
            }

            insertValueSql = &quot;INSERT INTO RHQ_CALLTIME_DATA_VALUE(key_id, begin_time, end_time, minimum, maximum, total, count) SELECT key.id, ?, ?, ?, ?, ?, ? FROM RHQ_numbers num, RHQ_calltime_data_key key WHERE num.i = 42 AND key.id = (SELECT id FROM RHQ_CALLTIME_DATA_KEY WHERE schedule_id = ? AND call_destination = ?)&quot;;
         } else {
            String i = JDBCUtil.getNextValSql(conn, &quot;RHQ_calltime_data_value&quot;);
            insertValueSql = String.format(&quot;INSERT INTO RHQ_CALLTIME_DATA_VALUE(id, key_id, begin_time, end_time, minimum, maximum, total, count) SELECT %s, key.id, ?, ?, ?, ?, ?, ? FROM RHQ_numbers num, RHQ_calltime_data_key key WHERE num.i = 42 AND key.id = (SELECT id FROM RHQ_CALLTIME_DATA_KEY WHERE schedule_id = ? AND call_destination = ?)&quot;, new Object[]{i});
         }

         ps = conn.prepareStatement(insertValueSql);
         Iterator var17 = callTimeDataSet.iterator();

         label112:
         while(true) {
            if(var17.hasNext()) {
               CallTimeData callTimeData = (CallTimeData)var17.next();
               ps.setInt(7, callTimeData.getScheduleId());
               Set callDestinations = callTimeData.getValues().keySet();
               Iterator i$ = callDestinations.iterator();

               while(true) {
                  if(!i$.hasNext()) {
                     continue label112;
                  }

                  String callDestination = (String)i$.next();
                  CallTimeDataValue callTimeDataValue = (CallTimeDataValue)callTimeData.getValues().get(callDestination);
                  ps.setLong(1, callTimeDataValue.getBeginTime());
                  ps.setLong(2, callTimeDataValue.getEndTime());
                  ps.setDouble(3, callTimeDataValue.getMinimum());
                  ps.setDouble(4, callTimeDataValue.getMaximum());
                  ps.setDouble(5, callTimeDataValue.getTotal());
                  ps.setLong(6, callTimeDataValue.getCount());
                  ps.setString(8, callDestination);
                  ps.addBatch();
               }
            }

            results = ps.executeBatch();
            break;
         }
      } finally {
         JDBCUtil.safeClose(ps);
      }

      int var16 = 0;

      for(int var18 = 0; var18 &lt; results.length; ++var18) {
         if(results[var18] != 1 &amp;&amp; results[var18] != -2) {
            throw new MeasurementStorageException(&quot;Failed to insert call-time data value rows - result [&quot; + results[var18] + &quot;] for batch command [&quot; + var18 + &quot;] does not equal 1.&quot;);
         }

         var16 += results[var18];
      }

      this.log.debug(&quot;Inserted &quot; + (var16 &gt;= 0?Integer.valueOf(var16):&quot;?&quot;) + &quot; call-time data value rows.&quot;);
   }

   private void logSQLException(SQLException e) {
      SQLException mainException = e;
      StringBuilder causes = new StringBuilder();
      int i = 1;

      while((e = e.getNextException()) != null) {
         causes.append(i++).append(&quot;\n\t&quot;).append(e);
      }

      this.log.error(&quot;Failed to persist call-time data - causes: &quot; + causes, mainException);
   }
}
</pre>
            </div> <!-- /container -->
        </div><!-- /row-->
    </div><!-- /container main-->


<div style="text-align: left; font-size: small; color: gray; font-style: italic;">Page generated: Sep 8, 2017 11:31:16 AM</div>
    <script src="resources/js/jquery-1.10.1.min.js"></script>
    <script src="resources/js/jquery-migrate-1.4.1.min.js"></script>
    <script src="resources/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="resources/libraries/jquery-ui/jquery.ui.widget.js"></script>
    <script type="text/javascript" src="resources/libraries/snippet/jquery.snippet.min.js"></script>
    <script type="text/javascript" src="resources/libraries/snippet/jquery.snippet.java-properties.js"></script>
    <script type="text/javascript" src="resources/libraries/snippet/jquery.snippet.java-manifest.js"></script>
    <script type="text/javascript" src="resources/libraries/sausage/jquery.sausage.min.js"></script>

    <script type="text/javascript">
        var script   = document.createElement("script");
        script.type  = "text/javascript";
            script.src   = "resources/js/navbar.js";
        document.body.appendChild(script);
    </script>

    <script type="text/javascript">
        $(window).on("hashchange", function () {
            window.scrollTo(window.scrollX, window.scrollY - 50);
        });
        function offsetAnchor() {
            if(location.hash.length !== 0) {
                window.scrollTo(window.scrollX, window.scrollY - 50);
            }
        }
        window.setTimeout(function() {
            offsetAnchor();
        }, 1);
        $(document).ready(function(){
            $("pre").snippet("java",{style:"ide-eclipse", showNum:true,boxFill:"#ffeeb9", box: "" });




            $('code[class]').each(function(){
                 var codeSyntax = ($(this).attr('class'));
                 if(codeSyntax) {
                    $(this).parent().snippet(codeSyntax,{style:'ide-eclipse', menu:false, showNum:false});
                 }
            });
            $(window).sausage({ page: 'li.box' });
        });

        function qs(key) {
            key = key.replace(/[*+?^$.\[\]{}()|\\\/]/g, "\\$&"); // escape RegEx meta chars
            var match = location.search.match(new RegExp("[?&]"+key+"=([^&]+)(&|$)"));
            return match && decodeURIComponent(match[1].replace(/\+/g, " "));
        }

        $(document).ready(function() {
            var defaultProjectID = 4062208;
            var selectedProject = qs("project");
            if (!selectedProject)
                selectedProject = defaultProjectID;

            $(".project-specific").each(function(index, element) {
                var currentProject = $(element).data("project-id");

                if (currentProject == selectedProject)
                    $(element).show();
                else
                    $(element).remove();
            });
            $("#main-navbar").show();
        });
    </script>

</body>
</html>
